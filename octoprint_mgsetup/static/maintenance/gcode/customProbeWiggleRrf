{% set xpos = parameters.wiggleX %}
{% set ypos = parameters.wiggleY %}
{% set zpos = parameters.wiggleHeight %}
{% set tohome = parameters.tohome %}
{% set wigglenumber = parameters.wigglenumber %}
{% set ypurge = 30 + (2 * 1 ) %}
{% set epurge = 13 - 1 %}
{% set heatup = parameters.heatup %}
{% set tool = parameters.tool %}


G90
M83

{% if heatup == true %}

{% if wigglenumber == "defaultProbe" %}
M190 S70
M109 T{{tool}} S220
{% endif %}





{% if wigglenumber == "035absrounded" %}
M190 S110
M109 T{{tool}} S260
{% endif %}

{% if wigglenumber == "025absflat" %}
M190 S110
M109 T{{tool}} S260
{% endif %}

{% if wigglenumber == "050absflat" %}
M190 S110
M109 T{{tool}} S265
{% endif %}

{% if wigglenumber == "075absflat" %}
M190 S110
M109 T{{tool}} S265
{% endif %}

{% if wigglenumber == "025plaflat" %}
M190 S70
M109 T{{tool}} S220
{% endif %}

{% if wigglenumber == "075plaflat" %}
M190 S70
M109 T{{tool}} S225
{% endif %}

{% if wigglenumber == "050psflat" %}
M190 S70
M109 T{{tool}} S220
{% endif %}

{% endif %}



{% if tohome == true %}
G28 X
T0
G28 X
T0
G28 X Y Z
G1 X0
T{{tool}}
{% endif %}
T{{tool}}
G1 F1000 X205 Y{{ ypurge }} Z10
G1 F1000 Z{{ zpos }}
G92 E0
G1 F240 E{{ epurge }}
G1 F240 X190 E{{ epurge + 2}}

G92 E0
G1 F1000 Z10
G1 F2500 X{{xpos}} Y{{ypos}} Z{{ zpos }}
G92 E0
G91
M83
G91
{%if wigglenumber == "defaultProbe" %}
G1 X20 E1.2 F850
G3 Y0.38 J0.39 E0.021
G1 X-20 E0.665
G3 Y0.385 J0.1925 E0.00
G1 X20 E0.665 F900
G3 Y0.39 J0.185 E0.00
G1 X-20 E0.665
G3 Y0.395 J0.1975 E0.00
G1 X20 E0.665
G3 Y0.40 J0.2 E0.004
G1 X-20 E0.665
G3 Y0.405 J0.2025 E0.00
G1 X20 E0.665
G3 Y0.41 J0.205 E0.00
G1 X-20 E0.665
G3 Y0.415 J0.2075 E0.00
G1 X20 E0.665
G3 Y0.42 J0.21 E0.00
G1 X-20 E0.665
G3 Y0.425 J0.2125 E0.00
G1 X20 E0.665
G3 Y0.43 J0.215 E0.00
G1 X-20 E0.665
G3 Y0.435 J0.2175 E0.00
G1 X20 E0.665
G3 Y0.44 J0.22 E0.00
G1 X-20 E0.665
G3 Y0.445 J0.2225 E0.00
G1 X20 E0.665
G3 Y0.45 J0.225 E0.00
G1 X-20 E0.665
G3 Y0.455 J0.2275 E0.00
G1 X20 E0.665
G3 Y0.46 J0.23 E0.00
G1 X-20 E0.665
G3 Y0.465 J0.2325 E0.011
G1 Z10 E0.5
G1 F360 E-1
{% endif %}

{% if wigglenumber == "035absrounded" %}
M106 S0
G1 X1 Y1 Z-0.0816666666666667 E1.77625 F80
G1 X18 E0.580597 F160.364339
G3 X0 Y0.341736 I0 J0.170868 E0.003035 Z0.0816666666666667 F53.45478
G1 X-18 E0.580597 F160.364339
G2 X0 Y0.344507 I0 J0.172253 E0.003058 F53.45478
G1 X18 E0.580597 F160.364339
G3 X0 Y0.347278 I0 J0.173639 E0.003082 F53.45478
G1 X-18 E0.580597 F160.364339
G2 X0 Y0.350049 I0 J0.175024 E0.003106 F53.45478
G1 X18 E0.580597 F160.364339
G3 X0 Y0.352819 I0 J0.17641 E0.00313 F53.45478
G1 X-18 E0.580597 F160.364339
G2 X0 Y0.35559 I0 J0.177795 E0.003154 F53.45478
G1 X18 E0.580597 F160.364339
G3 X0 Y0.358361 I0 J0.179181 E0.003178 F53.45478
G1 X-18 E0.580597 F160.364339
G2 X0 Y0.361132 I0 J0.180566 E0.003202 F53.45478
G1 X18 E0.580597 F160.364339
G3 X0 Y0.363903 I0 J0.181951 E0.003227 F53.45478
G1 X-18 E0.580597 F160.364339
G2 X0 Y0.366674 I0 J0.183337 E0.003251 F53.45478
G1 X18 E0.580597 F160.364339
G3 X0 Y0.369444 I0 J0.184722 E0.003276 F53.45478
G1 X-18 E0.580597 F160.364339
G2 X0 Y0.380528 I0 J0.190264 E0.003372 F53.45478
G1 X18 E0.580597 F160.364339
G3 X0 Y0.391611 I0 J0.195806 E0.003463 F53.45478
G1 X-18 E0.580597 F160.364339
G2 X0 Y0.402694 I0 J0.201347 E0.003551 F53.45478
G1 X18 E0.580597 F160.364339
G3 X0 Y0.413778 I0 J0.206889 E0.003633 F53.45478
G1 X-18 E0.580597 F160.364339
G2 X0 Y0.424861 I0 J0.212431 E0.003712 F53.45478
G1 X18 E0.580597 F160.364339
G3 X0 Y0.435944 I0 J0.217972 E0.003786 F53.45478
G1 X-18 E0.580597 F160.364339
G2 X0 Y0.447028 I0 J0.223514 E0.003855 F53.45478
G1 X18 E0.580597 F160.364339
G3 X0 Y0.458111 I0 J0.229056 E0.00392 F53.45478
G1 X-18 E0.580597 F160.364339
G2 X0 Y0.469194 I0 J0.234597 E0.003981 F53.45478
G1 X18 E0.580597 F160.364339
G3 X0 Y0.480278 I0 J0.240139 E0.004037 F53.45478
G1 X-18 E0.580597 F160.364339
G1 Z18 E0.722
G1 X-1 Y-1 Z3 E-1.071875 F1200

{% endif %}

{% if wigglenumber == "025absflat" %}
M106 S0
G1 X0 Y0 Z-0.0595 E0.3 F80 
G1 X12 E0.198463 F101.315251
G3 X0 Y0.270563 I0 J0.135281 E0.004928 Z0.0595
G1 X-12 E0.198463 F101.315251
G2 X0 Y0.272756 I0 J0.136378 E0.004966
G1 X12 E0.198463 F101.315251
G3 X0 Y0.27495 I0 J0.137475 E0.005005
G1 X-12 E0.198463 F101.315251
G2 X0 Y0.277144 I0 J0.138572 E0.005044
G1 X12 E0.198463 F101.315251
G3 X0 Y0.279338 I0 J0.139669 E0.005082
G1 X-12 E0.198463 F101.315251
G2 X0 Y0.281531 I0 J0.140766 E0.005122
G1 X12 E0.198463 F101.315251
G3 X0 Y0.283725 I0 J0.141863 E0.005161
G1 X-12 E0.198463 F101.315251
G2 X0 Y0.285919 I0 J0.142959 E0.0052
G1 X12 E0.198463 F101.315251
G3 X0 Y0.288113 I0 J0.144056 E0.00524
G1 X-12 E0.198463 F101.315251
G2 X0 Y0.290306 I0 J0.145153 E0.005279
G1 X12 E0.198463 F101.315251
G3 X0 Y0.2925 I0 J0.14625 E0.005319
G1 X-12 E0.198463 F101.315251
G2 X0 Y0.301275 I0 J0.150638 E0.005475
G1 X12 E0.198463 F101.315251
G3 X0 Y0.31005 I0 J0.155025 E0.005624
G1 X-12 E0.198463 F101.315251
G2 X0 Y0.318825 I0 J0.159413 E0.005766
G1 X12 E0.198463 F101.315251
G3 X0 Y0.3276 I0 J0.1638 E0.0059
G1 X-12 E0.198463 F101.315251
G2 X0 Y0.336375 I0 J0.168188 E0.006027
G1 X12 E0.198463 F101.315251
G3 X0 Y0.34515 I0 J0.172575 E0.006147
G1 X-12 E0.198463 F101.315251
G2 X0 Y0.353925 I0 J0.176963 E0.00626
G1 X12 E0.198463 F101.315251
G3 X0 Y0.3627 I0 J0.18135 E0.006366
G1 X-12 E0.198463 F101.315251
G2 X0 Y0.371475 I0 J0.185738 E0.006465
G1 X12 E0.198463 F101.315251
G3 X0 Y0.38025 I0 J0.190125 E0.006556
G1 X-12 E0.198463 F101.315251
G1 Z12 E0.268193

{% endif %}

{% if wigglenumber == "050absflat" %}
M106 S0
G1 X1 Y1 Z-0.116666666666667 E3.625 F80
G1 X18 E1.184892 F229.091913
G3 X0 Y0.488194 I0 J0.244097 E0.012639 Z0.116666666666667 F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.492153 I0 J0.246076 E0.012738F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.496111 I0 J0.248056 E0.012837F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.500069 I0 J0.250035 E0.012936F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.504028 I0 J0.252014 E0.013036F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.507986 I0 J0.253993 E0.013136F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.511944 I0 J0.255972 E0.013237F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.515903 I0 J0.257951 E0.013338F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.519861 I0 J0.259931 E0.013439F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.523819 I0 J0.26191 E0.013541F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.527778 I0 J0.263889 E0.013643F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.543611 I0 J0.271806 E0.014043F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.559444 I0 J0.279722 E0.014425F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.575278 I0 J0.287639 E0.014788F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.591111 I0 J0.295556 E0.015133F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.606944 I0 J0.303472 E0.015459F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.622778 I0 J0.311389 E0.015767F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.638611 I0 J0.319306 E0.016057F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.654444 I0 J0.327222 E0.016328F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.670278 I0 J0.335139 E0.016581F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.686111 I0 J0.343056 E0.016815F76.363971
G1 X-18 E1.184892 F229.091913
G1 Z18 E1.473469
G1 X-1 Y-1 Z3 E-2.1875 F1200

{% endif %}

{% if wigglenumber == "075absflat" %}
M106 S0
G1 X1 Y1 Z-0.175 E8.15625 F80
G1 X18 E2.666008 F343.63787
G3 X0 Y0.732292 I0 J0.366146 E0.112615 Z0.175
G1 X-18 E2.666008 F343.63787
G2 X0 Y0.738229 I0 J0.369115 E0.113494
G1 X18 E2.666008 F343.63787
G3 X0 Y0.744167 I0 J0.372083 E0.114377
G1 X-18 E2.666008 F343.63787
G2 X0 Y0.750104 I0 J0.375052 E0.115263
G1 X18 E2.666008 F343.63787
G3 X0 Y0.756042 I0 J0.378021 E0.116153
G1 X-18 E2.666008 F343.63787
G2 X0 Y0.761979 I0 J0.38099 E0.117045
G1 X18 E2.666008 F343.63787
G3 X0 Y0.767917 I0 J0.383958 E0.117942
G1 X-18 E2.666008 F343.63787
G2 X0 Y0.773854 I0 J0.386927 E0.118841
G1 X18 E2.666008 F343.63787
G3 X0 Y0.779792 I0 J0.389896 E0.119745
G1 X-18 E2.666008 F343.63787
G2 X0 Y0.785729 I0 J0.392865 E0.120651
G1 X18 E2.666008 F343.63787
G3 X0 Y0.791667 I0 J0.395833 E0.121561
G1 X-18 E2.666008 F343.63787
G2 X0 Y0.815417 I0 J0.407708 E0.125126
G1 X18 E2.666008 F343.63787
G3 X0 Y0.839167 I0 J0.419583 E0.128527
G1 X-18 E2.666008 F343.63787
G2 X0 Y0.862917 I0 J0.431458 E0.131763
G1 X18 E2.666008 F343.63787
G3 X0 Y0.886667 I0 J0.443333 E0.134836
G1 X-18 E2.666008 F343.63787
G2 X0 Y0.910417 I0 J0.455208 E0.137744
G1 X18 E2.666008 F343.63787
G3 X0 Y0.934167 I0 J0.467083 E0.140488
G1 X-18 E2.666008 F343.63787
G2 X0 Y0.957917 I0 J0.478958 E0.143068
G1 X18 E2.666008 F343.63787
G3 X0 Y0.981667 I0 J0.490833 E0.145484
G1 X-18 E2.666008 F343.63787
G2 X0 Y1.005417 I0 J0.502708 E0.147736
G1 X18 E2.666008 F343.63787
G3 X0 Y1.029167 I0 J0.514583 E0.149824
G1 X-18 E2.666008 F343.63787
G1 Z18 E3.315306
G1 X-1 Y-1 Z3 E-4.921875 F1200

{% endif %}

{% if wigglenumber == "025plaflat" %}
M106 S200
G1 X0 Y0 E0.4
G1 X20 E0.333402219502673 F367.536064476327
G3 X0 Y0.2146 I0 J0.1073 E0.0113792362259936
G1 X-20 E0.333402219502673 F367.536064476327
G2 X0 Y0.219965 I0 J0.1099825 E0.0116335129861053
G1 X20 E0.333402219502673 F367.536064476327
G3 X0 Y0.22533 I0 J0.112665 E0.011890599434174
G1 X-20 E0.333402219502673 F367.536064476327
G2 X0 Y0.230695 I0 J0.1153475 E0.0121504955701998
G1 X20 E0.333402219502673 F367.536064476327
G3 X0 Y0.23606 I0 J0.11803 E0.0124132013941826
G1 X-20 E0.333402219502673 F367.536064476327
G2 X0 Y0.241425 I0 J0.1207125 E0.0126787169061225
G1 X20 E0.333402219502673 F367.536064476327
G3 X0 Y0.24679 I0 J0.123395 E0.0129470421060193
G1 X-20 E0.333402219502673 F367.536064476327
G2 X0 Y0.252155 I0 J0.1260775 E0.0132181769938733
G1 X20 E0.333402219502673 F367.536064476327
G3 X0 Y0.25752 I0 J0.12876 E0.0134921215696842
G1 X-20 E0.333402219502673 F367.536064476327
G2 X0 Y0.262885 I0 J0.1314425 E0.0137688758334522
G1 X20 E0.333402219502673 F367.536064476327
G3 X0 Y0.26825 I0 J0.134125 E0.0140484397851772
G1 X-20 E0.333402219502673 F367.536064476327
G2 X0 Y0.273615 I0 J0.1368075 E0.0143251940489452
G1 X20 E0.333402219502673 F367.536064476327
G3 X0 Y0.27898 I0 J0.13949 E0.0145935192488421
G1 X-20 E0.333402219502673 F367.536064476327
G2 X0 Y0.284345 I0 J0.1421725 E0.0148534153848679
G1 X20 E0.333402219502673 F367.536064476327
G3 X0 Y0.28971 I0 J0.144855 E0.0151048824570226
G1 X-20 E0.333402219502673 F367.536064476327
G2 X0 Y0.295075 I0 J0.1475375 E0.0153479204653061
G1 X20 E0.333402219502673 F367.536064476327
G3 X0 Y0.30044 I0 J0.15022 E0.0155825294097186
G1 X-20 E0.333402219502673 F367.536064476327
G2 X0 Y0.305805 I0 J0.1529025 E0.0158087092902599
G1 X20 E0.333402219502673 F367.536064476327
G3 X0 Y0.31117 I0 J0.155585 E0.0160264601069302
G1 X-20 E0.333402219502673 F367.536064476327
G2 X0 Y0.316535 I0 J0.1582675 E0.0162357818597293
G1 X20 E0.333402219502673 F367.536064476327
G3 X0 Y0.3219 I0 J0.16095 E0.0164366745486574
G1 X-20 E0.333402219502673 F367.536064476327
G1 Z20 E0.494663372717508

{% endif %}

{% if wigglenumber == "075plaflat" %}
M106 S0
G1 X0 Y0 Z-0.175 E8.15625 F80
G1 X25 E3.313021 F320.054879
G3 X0 Y0.78625 I0 J0.393125 E0.114742 Z0.175
G1 X-25 E3.313021 F320.054879
G2 X0 Y0.792625 I0 J0.396313 E0.115638
G1 X25 E3.313021 F320.054879
G3 X0 Y0.799 I0 J0.3995 E0.116537
G1 X-25 E3.313021 F320.054879
G2 X0 Y0.805375 I0 J0.402688 E0.11744
G1 X25 E3.313021 F320.054879
G3 X0 Y0.81175 I0 J0.405875 E0.118346
G1 X-25 E3.313021 F320.054879
G2 X0 Y0.818125 I0 J0.409063 E0.119256
G1 X25 E3.313021 F320.054879
G3 X0 Y0.8245 I0 J0.41225 E0.120169
G1 X-25 E3.313021 F320.054879
G2 X0 Y0.830875 I0 J0.415438 E0.121086
G1 X25 E3.313021 F320.054879
G3 X0 Y0.83725 I0 J0.418625 E0.122006
G1 X-25 E3.313021 F320.054879
G2 X0 Y0.843625 I0 J0.421813 E0.12293
G1 X25 E3.313021 F320.054879
G3 X0 Y0.85 I0 J0.425 E0.123857
G1 X-25 E3.313021 F320.054879
G2 X0 Y0.8755 I0 J0.43775 E0.127489
G1 X25 E3.313021 F320.054879
G3 X0 Y0.901 I0 J0.4505 E0.130954
G1 X-25 E3.313021 F320.054879
G2 X0 Y0.9265 I0 J0.46325 E0.134252
G1 X25 E3.313021 F320.054879
G3 X0 Y0.952 I0 J0.476 E0.137382
G1 X-25 E3.313021 F320.054879
G2 X0 Y0.9775 I0 J0.48875 E0.140346
G1 X25 E3.313021 F320.054879
G3 X0 Y1.003 I0 J0.5015 E0.143142
G1 X-25 E3.313021 F320.054879
G2 X0 Y1.0285 I0 J0.51425 E0.145771
G1 X25 E3.313021 F320.054879
G3 X0 Y1.054 I0 J0.527 E0.148232
G1 X-25 E3.313021 F320.054879
G2 X0 Y1.0795 I0 J0.53975 E0.150527
G1 X25 E3.313021 F320.054879
G3 X0 Y1.105 I0 J0.5525 E0.152654
G1 X-25 E3.313021 F320.054879
G1 Z25 E4.423469
G1 Z3 E-4.921875 F1200

{% endif %}

{% if wigglenumber == "050psflat" %}
M106 S0
G1 X1 Y1 Z-0.116666666666667 E3.625 F80
G1 X18 E1.184892 F229.091913
G3 X0 Y0.488194 I0 J0.244097 E0.012639 Z0.116666666666667 F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.492153 I0 J0.246076 E0.012738F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.496111 I0 J0.248056 E0.012837F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.500069 I0 J0.250035 E0.012936F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.504028 I0 J0.252014 E0.013036F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.507986 I0 J0.253993 E0.013136F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.511944 I0 J0.255972 E0.013237F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.515903 I0 J0.257951 E0.013338F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.519861 I0 J0.259931 E0.013439F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.523819 I0 J0.26191 E0.013541F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.527778 I0 J0.263889 E0.013643F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.543611 I0 J0.271806 E0.014043F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.559444 I0 J0.279722 E0.014425F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.575278 I0 J0.287639 E0.014788F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.591111 I0 J0.295556 E0.015133F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.606944 I0 J0.303472 E0.015459F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.622778 I0 J0.311389 E0.015767F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.638611 I0 J0.319306 E0.016057F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.654444 I0 J0.327222 E0.016328F76.363971
G1 X-18 E1.184892 F229.091913
G2 X0 Y0.670278 I0 J0.335139 E0.016581F76.363971
G1 X18 E1.184892 F229.091913
G3 X0 Y0.686111 I0 J0.343056 E0.016815F76.363971
G1 X-18 E1.184892 F229.091913
G1 Z18 E1.473469
G1 X-1 Y-1 Z3 E-2.1875 F1200

{% endif %}


G90
M82
G92 E0
G1 F2000 X125 Y250